{% extends 'base.html' %}
{% block title %} Customers {% endblock title%}
{% block body_id %}customers{% endblock %}
{% block controller %} ng-controller="CustomerController" ng-init="init('{{ csrf_token }}')" 
{% endblock controller %}
{% block horizontal_menu %}
	<ul>
		<li class="horizontal_menu_active"> <a href="{% url 'customers' %}"> Customer List </a></li>
		<li class=""> <a href="{% url 'add_customer' %}">New Customer </a></li>
		<li> <a href="{% url 'accounts_receivable' %}"> A/c Receivable </a></li>
		<li> <a href="{% url 'customer_bonus_points' %}"> Customer Bonus Points Report </a></li>
	</ul>
{% endblock %}
{% block dialogue_popup %}
	{% include 'view_customer.html' %}                        
{% endblock %}
{% block submenu_container%}
{% endblock submenu_container%}
{% block content %}
<!-- 	<h2> Customers </h2>
 -->	
	<div class="content_search col-md-12 col-sm-12 margin-top">
		<button ng-click="create_customer()" class="create_button right">Create New Customer</button>
	</div>
	<div class="content_search col-md-8 col-sm-6">
		<label>Search Customer</label>
		<input type="text" name="customer_name" ng-model="customer_name" ng-change="get_customer_list()" >		

		<p class="error_msg">[[no_customer_msg]]</p>
	</div>
	<table ng-show="customers.length > 0" class="table table-striped" >
		<tr>
			<th>Name</th>
			<th>View</th>
			<th>Edit</th>
			<th>Delete</th>
		</tr>
		<tr ng-repeat="customer in customers">
			<td>[[customer.name]]</td>
			<td><a href="" ng-click="view_customer(customer)" >View</a></td>
			<td><a href="{% url 'edit_customer' %}?customer_id=[[customer.id]]" ng-click="edit_customer_details(customer)" class="edit_button">Edit</a></td>
			<td><a href="{% url 'delete_customer' %}?customer_id=[[customer.id]]" class="delete_button">Delete</a></td>
		</tr>
	</table>
{% endblock content %} 